<!Doctype html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!--<script src="vue.min.js"></script>-->
    <script src="vue.js"></script>
    <!--<script src="font-awesome.min.js"></script>-->
      <script src="https://apis.google.com/js/platform.js" async defer></script>
        <meta name="google-signin-client_id" content="942241099204-887hriil80dgus1ubdmd88r834sjuabd.apps.googleusercontent.com">
    <link rel="stylesheet" href="style.css" type="text/css">
    <title>WTF - Webtechnologies Filesharing</title>
    <link rel="shortcut icon" href="favicon.ico" type="image/x-icon">
    <link rel="icon" href="favicon.ico" type="image/x-icon">
</head>
<body>
  <header>
      <h1>WTF</h1> <h1>Web Technologies Filesharing</h1>
  </header>


  <div id="logIn" v-if="token == null">
    <div class="g-signin2" data-onsuccess="onSignIn" data-width="300" data-height="50" data-longtitle="true"></div>
      <script src="https://apis.google.com/js/platform.js?onload=renderButton" async defer></script>
  </div>
  <div id="mmm" style="display:none">
      <input id="user" type="text" placeholder="Nutzername eingeben">
      <input type="button" onclick="createUserName()" value="OK">
  </div>
  <div v-else>
        <button onclick="signOut()">Sign out</button>

  <section>
    <div id="moin">
      <p id="text"> DROP FILES HERE</p>
      <output id="fileList">
        <ul>
          <li v-for="files in filesToUpload" @click="deleteFile(files)">
            {{files.name}}
          </li>
        </ul>
      </output>
    </div>
  <div id="shares">
    <input v-on:keypress="inpc" id="yyy" type="text">
    <ul>
      <li v-for="shares in vshares" @click="deleteNames(shares)">
      {{shares}}
      </li>
    </ul>
  </div>
    <button type="button" id="xxx" onclick=" getSharedPeople()">Upload</button>
  </section>


<section>
<div id="files">
  <table class="FileTables">
    <caption>Meine Uploads</caption>
    <tr>
    <th>Name</th>
    <th>Datum</th>
    <th>Teilen mit</th>
    <th></th>
    </tr>
    <tr v-for="files in myFiles">
      <td><a v-bind:href="'/downloadFile/' + files.id">{{ files.name }}</a></td>
      <td>{{files.datum}}</td>
      <td>{{files.teilenMit}}</td>
      <td><button type="button" v-bind:id="files.id" onclick="getDeletedFiles(this.id)"></button></td>
    </tr>
  </table>
<br>
<br>
  <table class="FileTables">
    <tr>
    <caption>Geteilte Uploads</caption>
    </tr>
    <tr>
      <th>Name</th>
      <th>Datum</th>
      <th>Geteilt von</th>
    </tr>
    <tr v-for="file in sharedFiles">
      <td><a v-bind:href="'/downloadFile/'+ file.id">{{ file.name }}</a></td>
      <td>{{file.datum}}</td>
      <td>{{file.geteiltVon}}</td>
    </tr>
  </table>
</div>
<input type="text" id="inpUserId">
Get My Files<input type="button" onclick="getMyFiles()" value="refresh">
Get Shared Files<input type="button" onclick="getSharedFiles()" value="refresh">
  <script language="javascript" src="main.js" type="text/javascript">
  </script>
  </section>
</div>

</body>
</html>
